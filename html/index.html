<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>寻找小希</title>
  <style>
    @font-face {
      font-family: "yunduo";
      src: url("JinTianYunDuoYouDianTian-2.ttf");
    }

    html,
    body {
      font-family: "yunduo";
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      font-size: 20px;
      background: #2c3e50;  /* fallback for old browsers */
      background: -webkit-linear-gradient(to right, #3498db, #2c3e50);  /* Chrome 10-25, Safari 5.1-6 */
      background: linear-gradient(to right, #3498db, #2c3e50); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
    }

    #app {
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
    }

    .level3Input {
      height: 30px;
      border: none;
      border-bottom: solid #eee 1px;
      width: 80px;
      margin: 0 10px;
      font-size: 30px;
    }

    .level3Input:focus-visible {
      border: none;
      outline: none;
      border-bottom: solid #333 1px;
    }

    .shake {
      animation: shake 800ms ease-in-out;
    }

    @keyframes shake {

      /* 水平抖动，核心代码 */
      0%,
      100% {
        transform: translate3d(-1px, 0, 0);
      }

      20%,
      80% {
        transform: translate3d(+2px, 0, 0);
      }

      30%,
      70% {
        transform: translate3d(-4px, 0, 0);
      }

      40%,
      60% {
        transform: translate3d(+4px, 0, 0);
      }

      50% {
        transform: translate3d(-4px, 0, 0);
      }
    }

    .checkBtn {
      border: solid 2px #fff;
      -webkit-align-self: center;
      -ms-flex-item-align: center;
      align-self: center;
      background: transparent;
      padding: 1rem 1rem;
      margin: 0 1rem;
      -webkit-transition: all .5s ease;
      transition: all .5s ease;
      color: #fff;
      font-size: 2rem;
      letter-spacing: 1px;
      outline: none;
      box-shadow: 20px 38px 34px -26px rgba(0, 0, 0, 0.2);
      border-radius: 255px 15px 225px 15px/15px 225px 15px 255px;
      font-family: "yunduo";
      cursor: pointer;
    }
    .checkBtn:hover {
      box-shadow: 2px 8px 4px -6px rgba(0, 0, 0, 0.3);
    }
    .staff {
      white-space: pre;
      line-height: 40px;
    }
    .scrollContent {
      animation: marquee 1s linear forwards;
    }
    @keyframes marquee {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-190px);
      }
    }
  </style>
  <link rel="stylesheet" href="birth.css" />
</head>

<body style="text-align: center;">
  <div id="app">
    <h1 v-if="level !== '' && showHappy == false">{{LEVEL_NAME[level]}}</h1>
    <div class="levelContent">
      <div v-if="level === ''">加载中，请稍候……</div>
      <!-- 序章 -->
      <div v-if="level === 0">
        <div>
          突然有一天，<span style="text-decoration:line-through;">大家的爹</span>小希失踪了，快快移动你的鼠标，在你电脑的各处寻找小希吧！
        </div>
        <div style="margin-top: 20px;">
          （点击下方图片开始）
        </div>
        <div style="margin-top: 10px;font-size: 10px;color:#333">
          （据说笨蛋在5分钟之内无法通关）
        </div>
        <div>
          <img @click="nextLevel()" width="20%" style="cursor:pointer;margin-top: 100px;" src="../xiaoxi/alert.gif"
            alt="">
        </div>
      </div>
      <!-- 第一关 -->
      <div v-if="level === 1">
        <div style="font-size: 20px;">请点击屏幕上的<span @click="showLevel1Img">小希</span>进入下一关</div>
      </div>
      <!-- 第二关 -->
      <div v-if="level === 2">
        <div>你管小希叫什么</div>
        <input :disabled="level2InputDisabled" @input="checkLevel2Input" v-model="level2Input"
          style="height: 40px;font-size: 35px;text-align: center;" type="text" />
      </div>
      <!-- 第三关 -->
      <div v-if="level === 3">
        <div style="font-size: 30px;display: flex;align-items: center">如果给小希发红包，应该发<input class="level3Input"
            @input="checkLevel3Input" v-model="level3Input" />元</div>
      </div>
      <!-- 第四关 -->
      <div v-if="level === 4">
        <div>小希在独播，请拿走一样东西避免直播事故：</div>
        <div>
          <img usemap="#coke" style="width:300px;margin-top:10px" src="../xiaoxi/level4.jpg" alt="">
          <map name="coke">
            <area shape="rect" coords="260,0,300,50" alt="Sun" @click="levelImg=true">
          </map>
        </div>
      </div>
      <!-- 第五关 -->
      <div v-if="level === 5">
        <div>保持十秒钟不理这只小希</div>
        <img style="width: 100px; margin-top: 20px;" src="../xiaoxi/confusion.gif" alt="">
      </div>
      <!-- 第六关 -->
      <div v-if="level === 6">
        <div>见到小希后，帅老DD们往往会在心里默念十个字</div>
        <div>让你的电脑把这十个字默默记在心里，然后点击下面的按钮检测他的内心</div>
        <button class="checkBtn" style="margin: 20px 0;" @click="checkLevel6Clipboard">检测</button>
        <div :class="shakeIt?'shake':''" v-if="level6False && !levelImg">不对哦，给你一拳!</div>
      </div>
      <!-- 第七关 -->
      <div v-if="level === 7">
        <div>小希藏在这个窗口的某处哦</div>
      </div>
      <!-- 第八关 -->
      <div v-if="level === 8">
        <div>小希藏在你电脑的某处哦</div>
      </div>
      <!-- 第九关 -->
      <div v-if="level === 9">
        <div>没有任何提示，实在玩不下去就关了吧（这关没有任何套路哦）</div>
      </div>
      <!-- 第十关 -->
      <div v-if="level === 10">
        <div v-if="!showHappy">吹灭蜡烛吧</div>
        <div v-if="!showHappy" :class="['wrapper', level6Blow ? '': 'stop']" @click="blow()" class="wrapper">
          <div class="candles">
            <div class="candle1">
              <div class="candle1__body">
                <div class="candle1__eyes"><span class="candle1__eyes-one"></span><span
                    class="candle1__eyes-two"></span></div>
                <div class="candle1__mouth"></div>
              </div>
              <div class="candle1__stick"></div>
            </div>
            <div class="candle2">
              <div class="candle2__body">
                <div class="candle2__eyes">
                  <div class="candle2__eyes-one"></div>
                  <div class="candle2__eyes-two"></div>
                </div>
              </div>
              <div class="candle2__stick"></div>
            </div>
            <div class="candle2__fire"></div>
            <div class="sparkles-one"></div>
            <div class="sparkles-two"></div>
            <div class="candle__smoke-one"></div>
            <div class="candle__smoke-two"></div>
          </div>
          <div class="floor"></div>
        </div>
        <div v-if="!showHappy" style="width: 100%; height: 300px"></div>
        <div v-if="showHappy"  style="height: 500px;overflow:hidden">
          <div :class="showStaff ? 'scrollContent': ''">
            <div class="blessing" style="white-space: pre;">{{blessing}}</div>
            <div v-if="showStaff" class="staff">制作人：琛琛
页面设计：XX XX 
创意协力：XX XX XX XX 
XX XX XX XX XX XX XX
测试协力： XX XX XX XX 
XX XX XX XX XX XX 
题目协力：XX XX XX XX XX
XX XX XX XX XX XX
<button class="checkBtn" style="margin: 20px 0;font-size: 20px;" @click="reset()">重玩</button>
            </div>
          </div>
        </div>
      </div>
      <!-- 通关按钮 -->
      <div>
        <img v-if="levelImg" @click="nextLevel()" width="20%" style="cursor:pointer;margin-top: 100px;"
          src="../xiaoxi/alert.gif" alt="">
      </div>
    </div>
  </div>
</body>
<script src="./vue.js"></script>
<script src="./render.js"></script>
<script>
  const LEVEL_NAME = [
    "序章",
    "第一关",
    "第二关",
    "第三关",
    "第四关",
    "第五关",
    "第六关",
    "第七关",
    "第八关",
    "第九关",
    "第十关",
  ]
  var app = new Vue({
    el: "#app",
    data: {
      level: "",
      LEVEL_NAME,

      // 第一关
      levelImg: false,

      // 第二关
      level2Input: "",
      level2InputDisabled: false,

      // 第三关
      level3Input: "",

      // 第六关
      level6False: false,
      shakeIt: false,

      // 第十关
      level6Blow: false,
      showHappy: false,
      blessing: "",
      showStaff: false,
    },
    watch: {
      level: {
        handler(nval) {
          if (nval == 5 || nval == 7 || nval == 8 || nval == 9) {
            const success = (event, value) => {
              this.levelImg = true
              window.electronAPI.removeSuccess(success);
            }
            window.electronAPI.handleSuccess(success)
          }
        }
      }
    },
    methods: {
      reset() {
        this.showHappy = false;
        this.level = 0;
        location.hash = this.level;
      },

      nextLevel() {
        this.levelImg = false
        this.level++
        location.hash = this.level
      },

      // 第一关
      showLevel1Img() {
        this.levelImg = true
      },

      // 第二关
      checkLevel2Input() {
        if (this.level2Input.includes("爹")) {
          this.level2InputDisabled = true;
          this.levelImg = true;
        }
      },

      // 第三关
      checkLevel3Input() {
        if (this.level3Input == 0.66) {
          this.levelImg = true;
        }
      },

      // 第六关
      async checkLevel6Clipboard() {
        const currentClipboard = await window.electronAPI.getClipboard()
        if (currentClipboard == "希爹是我爹我是希爹儿" || currentClipboard == "希爹是我爹，我是希爹儿" || currentClipboard == "希爹是我爹,我是希爹儿" || currentClipboard == "希爹是我爹 我是希爹儿") {
          this.levelImg = true;
        }
        else {
          this.level6False = true;
          this.shakeIt = false;
          setTimeout(() => {
            this.shakeIt = true;
          }, 500)
        }
      },

      // 第十关
      blow() {
        // 避免二次点击打印机乱了
        if (this.level6Blow) return
        this.level6Blow = true;
        setTimeout(() => {
          this.showHappy = true;
          const allBlessing = `以前每次制作二创的时候，总想着煽情，想唤起点回忆和眼泪
现在想想，过生日嘛，开开心心得多好
眼泪是一种释放，开开心心的大笑出来不也是一种释放嘛
毕竟我们喜欢的是那个乐观阳光
（喜欢和帅老DD对线的）
小希啊
小希，生日快乐~
愿你一直阳光，即使阴天也会成为自己的太阳`.split("");
          let id = setInterval(() => {
            if (allBlessing.length) {
              this.blessing += allBlessing.splice(0,1)
            }
            else {
              clearInterval(id);
              this.showStaff = true
            }
          }, 50)
        }, 2500)
      }
    },
    mounted() {
      this.level = Number(location.hash.replace("#", "")) || 0;
    }
  })
</script>

</html>